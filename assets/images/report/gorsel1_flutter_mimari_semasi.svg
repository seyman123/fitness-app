<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="900" viewBox="0 0 1400 900">
  <defs>
    <style>
      .title { font: 700 34px 'Segoe UI', Arial, sans-serif; fill: #0b1220; }
      .subtitle { font: 500 18px 'Segoe UI', Arial, sans-serif; fill: #334155; }
      .layerTitle { font: 700 22px 'Segoe UI', Arial, sans-serif; fill: #0b1220; }
      .text { font: 500 18px 'Segoe UI', Arial, sans-serif; fill: #0b1220; }
      .small { font: 500 16px 'Segoe UI', Arial, sans-serif; fill: #0b1220; }
      .note { font: 500 16px 'Segoe UI', Arial, sans-serif; fill: #334155; }
    </style>
    <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="10" markerHeight="10" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#334155"/>
    </marker>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="6" stdDeviation="8" flood-color="#0f172a" flood-opacity="0.18"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect x="0" y="0" width="1400" height="900" fill="#ffffff"/>

  <!-- Header -->
  <text x="70" y="85" class="title">Görsel 1 — Flutter Mimari Şeması (Clean Architecture)</text>
  <text x="70" y="120" class="subtitle">Katmanlar arası bağımlılık içe doğru; dış katmanlar iç katmanları kullanır.</text>

  <!-- App boundary -->
  <rect x="60" y="160" width="980" height="680" rx="18" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2" filter="url(#shadow)"/>
  <text x="90" y="205" class="layerTitle">Flutter Uygulaması</text>

  <!-- Layers (top to bottom) -->
  <!-- Presentation -->
  <rect x="100" y="235" width="900" height="145" rx="14" fill="#e0f2fe" stroke="#38bdf8" stroke-width="2"/>
  <text x="130" y="275" class="layerTitle">Presentation Layer</text>
  <text x="130" y="310" class="text">UI (Pages / Widgets)  +  State Management (BLoC/Cubit)</text>
  <text x="130" y="345" class="note">Örn: lib/features/*/presentation/pages, bloc, widgets</text>

  <!-- Domain -->
  <rect x="100" y="405" width="900" height="145" rx="14" fill="#dcfce7" stroke="#22c55e" stroke-width="2"/>
  <text x="130" y="445" class="layerTitle">Domain Layer</text>
  <text x="130" y="480" class="text">Entities  •  Use Cases  •  Repository Interfaces</text>
  <text x="130" y="515" class="note">Örn: lib/features/*/domain/entities, repositories</text>

  <!-- Data -->
  <rect x="100" y="575" width="900" height="190" rx="14" fill="#ffedd5" stroke="#fb923c" stroke-width="2"/>
  <text x="130" y="615" class="layerTitle">Data Layer</text>
  <text x="130" y="650" class="text">Repository Implementations</text>
  <text x="130" y="682" class="text">Remote Data Source  •  Models/DTO  •  Mapping</text>
  <text x="130" y="715" class="note">Örn: lib/features/*/data/datasources, models, repositories</text>

  <!-- Core cross-cutting -->
  <rect x="610" y="260" width="360" height="70" rx="12" fill="#ffffff" stroke="#64748b" stroke-width="2"/>
  <text x="635" y="304" class="small">Core (Cross-cutting)</text>
  <rect x="610" y="338" width="360" height="150" rx="12" fill="#ffffff" stroke="#64748b" stroke-width="2"/>
  <text x="635" y="372" class="small">API Client / Network</text>
  <text x="635" y="402" class="small">Config (ApiConfig)</text>
  <text x="635" y="432" class="small">DI (Service Locator)</text>
  <text x="635" y="462" class="small">Utils / Error Handling</text>

  <!-- External systems -->
  <rect x="1085" y="240" width="260" height="260" rx="16" fill="#f1f5f9" stroke="#94a3b8" stroke-width="2" filter="url(#shadow)"/>
  <text x="1115" y="285" class="layerTitle">Dış Sistemler</text>
  <rect x="1115" y="315" width="200" height="70" rx="12" fill="#ffffff" stroke="#94a3b8" stroke-width="2"/>
  <text x="1130" y="360" class="small">REST API</text>
  <text x="1130" y="382" class="note">Node.js / Express</text>

  <rect x="1115" y="405" width="200" height="70" rx="12" fill="#ffffff" stroke="#94a3b8" stroke-width="2"/>
  <text x="1130" y="450" class="small">DB / Prisma</text>
  <text x="1130" y="472" class="note">PostgreSQL vb.</text>

  <!-- Flow arrows -->
  <!-- UI -> Domain -> Data -->
  <line x1="550" y1="380" x2="550" y2="405" stroke="#334155" stroke-width="3" marker-end="url(#arrow)"/>
  <line x1="550" y1="550" x2="550" y2="575" stroke="#334155" stroke-width="3" marker-end="url(#arrow)"/>

  <!-- Data -> External REST -->
  <path d="M 1000 670 C 1060 670, 1070 360, 1115 350" fill="none" stroke="#334155" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="1015" y="640" class="note">HTTP</text>

  <!-- REST -> DB -->
  <line x1="1215" y1="385" x2="1215" y2="405" stroke="#334155" stroke-width="3" marker-end="url(#arrow)"/>

  <!-- Dependency rule note -->
  <rect x="1085" y="540" width="260" height="300" rx="16" fill="#ffffff" stroke="#e2e8f0" stroke-width="2" filter="url(#shadow)"/>
  <text x="1115" y="585" class="layerTitle">Bağımlılık Kuralı</text>
  <text x="1115" y="625" class="note">• Presentation → Domain</text>
  <text x="1115" y="655" class="note">• Data → Domain (arayüzler)</text>
  <text x="1115" y="685" class="note">• Core, ortak altyapı sağlar</text>
  <text x="1115" y="715" class="note">• Dış sistemler en dıştadır</text>
  <text x="1115" y="765" class="note">Bu sayede test edilebilirlik ve</text>
  <text x="1115" y="790" class="note">bakım kolaylığı artar.</text>
</svg>
